amends "@ArgoCD/App.pkl"
import "@ArgoCD/Application.pkl"

name = "infra-cert-manager"
namespace = "cert-manager"

ignoreDifferences = new Listing<Application.ComparedToIgnoreDifference> {
  new {
    group = "admissionregistration.k8s.io"
    kind = "MutatingWebhookConfiguration"
    jqPathExpressions {
      ".webhooks[]?.clientConfig.caBundle"
    }
  }
  new {
    group = "admissionregistration.k8s.io"
    kind = "ValidatingWebhookConfiguration"
    jqPathExpressions {
      ".webhooks[]?.clientConfig.caBundle"
    }
  }
}

source {
  repoURL = "https://charts.jetstack.io"
  chart = "cert-manager"
  // renovate: datasource=helm registryUrl=https://charts.jetstack.io packageName=cert-manager
  targetRevision = "v1.19.4"
  helm {
    releaseName = "cert-manager"
    valuesObject {
      crds {
        enabled = true
      }
    }
  }
}
