/// Middleware is the CRD implementation of a Traefik Middleware. More info:
/// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/overview/
///
/// This module was generated from the CustomResourceDefinition at
/// <file:///Users/lucsoft/Developer/infra-hmsys-sys/packages/io.Traefik/>.
module io.traefik.v1alpha1.Middleware

extends "@k8s/K8sResource.pkl"

import "@k8s/apimachinery/pkg/apis/meta/v1/ObjectMeta.pkl"

fixed apiVersion: "traefik.io/v1alpha1"

fixed kind: "Middleware"

/// Standard object's metadata.
///
/// More info: <https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#metadata>.
metadata: ObjectMeta?

/// MiddlewareSpec defines the desired state of a Middleware.
spec: Spec

/// MiddlewareSpec defines the desired state of a Middleware.
class Spec {
  /// AddPrefix holds the add prefix middleware configuration. This middleware updates the path of a
  /// request before forwarding it. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/addprefix/
  addPrefix: AddPrefix?

  /// BasicAuth holds the basic auth middleware configuration. This middleware restricts access to your
  /// services to known users. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/basicauth/
  basicAuth: BasicAuth?

  /// Buffering holds the buffering middleware configuration. This middleware retries or limits the size
  /// of requests that can be forwarded to backends. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/buffering/#maxrequestbodybytes
  buffering: Buffering?

  /// Chain holds the configuration of the chain middleware. This middleware enables to define reusable
  /// combinations of other pieces of middleware. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/chain/
  chain: Chain?

  /// CircuitBreaker holds the circuit breaker configuration.
  circuitBreaker: CircuitBreaker?

  /// Compress holds the compress middleware configuration. This middleware compresses responses before
  /// sending them to the client, using gzip, brotli, or zstd compression. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/compress/
  compress: Compress?

  /// ContentType holds the content-type middleware configuration. This middleware exists to enable the
  /// correct behavior until at least the default one can be changed in a future version.
  contentType: ContentType?

  /// DigestAuth holds the digest auth middleware configuration. This middleware restricts access to your
  /// services to known users. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/digestauth/
  digestAuth: DigestAuth?

  /// ErrorPage holds the custom error middleware configuration. This middleware returns a custom page in
  /// lieu of the default, according to configured ranges of HTTP Status codes. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/errorpages/
  errors: Errors?

  /// ForwardAuth holds the forward auth middleware configuration. This middleware delegates the request
  /// authentication to a Service. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/forwardauth/
  forwardAuth: ForwardAuth?

  /// GrpcWeb holds the gRPC web middleware configuration. This middleware converts a gRPC web request to
  /// an HTTP/2 gRPC request.
  grpcWeb: GrpcWeb?

  /// Headers holds the headers middleware configuration. This middleware manages the requests and
  /// responses headers. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/headers/#customrequestheaders
  headers: Headers?

  /// InFlightReq holds the in-flight request middleware configuration. This middleware limits the number
  /// of requests being processed and served concurrently. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/inflightreq/
  inFlightReq: InFlightReq?

  /// IPAllowList holds the IP allowlist middleware configuration. This middleware limits allowed
  /// requests based on the client IP. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/ipallowlist/
  ipAllowList: IpAllowList?

  /// Deprecated: please use IPAllowList instead.
  ipWhiteList: IpWhiteList?

  /// PassTLSClientCert holds the pass TLS client cert middleware configuration. This middleware adds the
  /// selected data from the passed client TLS certificate to a header. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/passtlsclientcert/
  passTLSClientCert: PassTLSClientCert?

  /// Plugin defines the middleware plugin configuration. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/overview/#community-middlewares
  plugin: Mapping<String, Null>?

  /// RateLimit holds the rate limit configuration. This middleware ensures that services will receive a
  /// fair amount of requests, and allows one to define what fair is. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/ratelimit/
  rateLimit: RateLimit?

  /// RedirectRegex holds the redirect regex middleware configuration. This middleware redirects a
  /// request using regex matching and replacement. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/redirectregex/#regex
  redirectRegex: RedirectRegex?

  /// RedirectScheme holds the redirect scheme middleware configuration. This middleware redirects
  /// requests from a scheme/port to another. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/redirectscheme/
  redirectScheme: RedirectScheme?

  /// ReplacePath holds the replace path middleware configuration. This middleware replaces the path of
  /// the request URL and store the original path in an X-Replaced-Path header. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/replacepath/
  replacePath: ReplacePath?

  /// ReplacePathRegex holds the replace path regex middleware configuration. This middleware replaces
  /// the path of a URL using regex matching and replacement. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/replacepathregex/
  replacePathRegex: ReplacePathRegex?

  /// Retry holds the retry middleware configuration. This middleware reissues requests a given number of
  /// times to a backend server if that server does not reply. As soon as the server answers, the
  /// middleware stops retrying, regardless of the response status. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/retry/
  retry: Retry?

  /// StripPrefix holds the strip prefix middleware configuration. This middleware removes the specified
  /// prefixes from the URL path. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/stripprefix/
  stripPrefix: StripPrefix?

  /// StripPrefixRegex holds the strip prefix regex middleware configuration. This middleware removes the
  /// matching prefixes from the URL path. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/stripprefixregex/
  stripPrefixRegex: StripPrefixRegex?
}

/// AddPrefix holds the add prefix middleware configuration. This middleware updates the path of a
/// request before forwarding it. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/addprefix/
class AddPrefix {
  /// Prefix is the string to add before the current path in the requested URL. It should include a
  /// leading slash (/).
  prefix: String?
}

/// BasicAuth holds the basic auth middleware configuration. This middleware restricts access to your
/// services to known users. More info:
/// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/basicauth/
class BasicAuth {
  /// HeaderField defines a header field to store the authenticated user. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/basicauth/#headerfield
  headerField: String?

  /// Realm allows the protected resources on a server to be partitioned into a set of protection spaces,
  /// each with its own authentication scheme. Default: traefik.
  realm: String?

  /// RemoveHeader sets the removeHeader option to true to remove the authorization header before
  /// forwarding the request to your service. Default: false.
  removeHeader: Boolean?

  /// Secret is the name of the referenced Kubernetes Secret containing user credentials.
  secret: String?
}

/// Buffering holds the buffering middleware configuration. This middleware retries or limits the size of
/// requests that can be forwarded to backends. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/buffering/#maxrequestbodybytes
class Buffering {
  /// MaxRequestBodyBytes defines the maximum allowed body size for the request (in bytes). If the
  /// request exceeds the allowed size, it is not forwarded to the service, and the client gets a 413
  /// (Request Entity Too Large) response. Default: 0 (no maximum).
  maxRequestBodyBytes: Int?

  /// MaxResponseBodyBytes defines the maximum allowed response size from the service (in bytes). If the
  /// response exceeds the allowed size, it is not forwarded to the client. The client gets a 500
  /// (Internal Server Error) response instead. Default: 0 (no maximum).
  maxResponseBodyBytes: Int?

  /// MemRequestBodyBytes defines the threshold (in bytes) from which the request will be buffered on
  /// disk instead of in memory. Default: 1048576 (1Mi).
  memRequestBodyBytes: Int?

  /// MemResponseBodyBytes defines the threshold (in bytes) from which the response will be buffered on
  /// disk instead of in memory. Default: 1048576 (1Mi).
  memResponseBodyBytes: Int?

  /// RetryExpression defines the retry conditions. It is a logical combination of functions with
  /// operators AND (&&) and OR (||). More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/buffering/#retryexpression
  retryExpression: String?
}

/// Chain holds the configuration of the chain middleware. This middleware enables to define reusable
/// combinations of other pieces of middleware. More info:
/// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/chain/
class Chain {
  /// Middlewares is the list of MiddlewareRef which composes the chain.
  middlewares: Listing<Middleware>?
}

/// MiddlewareRef is a reference to a Middleware resource.
class Middleware {
  /// Name defines the name of the referenced Middleware resource.
  name: String

  /// Namespace defines the namespace of the referenced Middleware resource.
  namespace: String?
}

/// CircuitBreaker holds the circuit breaker configuration.
class CircuitBreaker {
  /// CheckPeriod is the interval between successive checks of the circuit breaker condition (when in
  /// standby state).
  checkPeriod: (Int | String)?

  /// Expression is the condition that triggers the tripped state.
  expression: String?

  /// FallbackDuration is the duration for which the circuit breaker will wait before trying to recover
  /// (from a tripped state).
  fallbackDuration: (Int | String)?

  /// RecoveryDuration is the duration for which the circuit breaker will try to recover (as soon as it
  /// is in recovering state).
  recoveryDuration: (Int | String)?

  /// ResponseCode is the status code that the circuit breaker will return while it is in the open state.
  responseCode: Int(isBetween(100, 599))?
}

/// Compress holds the compress middleware configuration. This middleware compresses responses before
/// sending them to the client, using gzip, brotli, or zstd compression. More info:
/// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/compress/
class Compress {
  /// DefaultEncoding specifies the default encoding if the `Accept-Encoding` header is not in the
  /// request or contains a wildcard (`*`).
  defaultEncoding: String?

  /// Encodings defines the list of supported compression algorithms.
  encodings: Listing<String>?

  /// ExcludedContentTypes defines the list of content types to compare the Content-Type header of the
  /// incoming requests and responses before compressing. `application/grpc` is always excluded.
  excludedContentTypes: Listing<String>?

  /// IncludedContentTypes defines the list of content types to compare the Content-Type header of the
  /// responses before compressing.
  includedContentTypes: Listing<String>?

  /// MinResponseBodyBytes defines the minimum amount of bytes a response body must have to be
  /// compressed. Default: 1024.
  minResponseBodyBytes: Int(isPositive)?
}

/// ContentType holds the content-type middleware configuration. This middleware exists to enable the
/// correct behavior until at least the default one can be changed in a future version.
class ContentType {
  /// AutoDetect specifies whether to let the `Content-Type` header, if it has not been set by the
  /// backend, be automatically set to a value derived from the contents of the response. Deprecated:
  /// AutoDetect option is deprecated, Content-Type middleware is only meant to be used to enable the
  /// content-type detection, please remove any usage of this option.
  autoDetect: Boolean?
}

/// DigestAuth holds the digest auth middleware configuration. This middleware restricts access to your
/// services to known users. More info:
/// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/digestauth/
class DigestAuth {
  /// HeaderField defines a header field to store the authenticated user. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/digestauth/#headerfield
  headerField: String?

  /// Realm allows the protected resources on a server to be partitioned into a set of protection spaces,
  /// each with its own authentication scheme. Default: traefik.
  realm: String?

  /// RemoveHeader defines whether to remove the authorization header before forwarding the request to
  /// the backend.
  removeHeader: Boolean?

  /// Secret is the name of the referenced Kubernetes Secret containing user credentials.
  secret: String?
}

/// ErrorPage holds the custom error middleware configuration. This middleware returns a custom page in
/// lieu of the default, according to configured ranges of HTTP Status codes. More info:
/// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/errorpages/
class Errors {
  /// Query defines the URL for the error page (hosted by service). The {status} variable can be used in
  /// order to insert the status code in the URL. The {originalStatus} variable can be used in order to
  /// insert the upstream status code in the URL. The {url} variable can be used in order to insert the
  /// escaped request URL.
  query: String?

  /// Service defines the reference to a Kubernetes Service that will serve the error page. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/errorpages/#service
  service: Service?

  /// Status defines which status or range of statuses should result in an error page. It can be either a
  /// status code as a number (500), as multiple comma-separated numbers (500,502), as ranges by
  /// separating two codes with a dash (500-599), or a combination of the two (404,418,500-599).
  status: Listing<String(matches(Regex("^([1-5][0-9]{2}[,-]?)+$")))>?

  /// StatusRewrites defines a mapping of status codes that should be returned instead of the original
  /// error status codes. For example: "418": 404 or "410-418": 404
  statusRewrites: Mapping<String, Int>?
}

/// Service defines the reference to a Kubernetes Service that will serve the error page. More info:
/// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/errorpages/#service
class Service {
  /// Healthcheck defines health checks for ExternalName services.
  healthCheck: HealthCheck?

  /// Kind defines the kind of the Service.
  kind: ("Service" | "TraefikService")?

  /// Name defines the name of the referenced Kubernetes Service or TraefikService. The differentiation
  /// between the two is specified in the Kind field.
  name: String

  /// Namespace defines the namespace of the referenced Kubernetes Service or TraefikService.
  namespace: String?

  /// NativeLB controls, when creating the load-balancer, whether the LB's children are directly the pods
  /// IPs or if the only child is the Kubernetes Service clusterIP. The Kubernetes Service itself does
  /// load-balance to the pods. By default, NativeLB is false.
  nativeLB: Boolean?

  /// NodePortLB controls, when creating the load-balancer, whether the LB's children are directly the
  /// nodes internal IPs using the nodePort when the service type is NodePort. It allows services to be
  /// reachable when Traefik runs externally from the Kubernetes cluster but within the same network of
  /// the nodes. By default, NodePortLB is false.
  nodePortLB: Boolean?

  /// PassHostHeader defines whether the client Host header is forwarded to the upstream Kubernetes
  /// Service. By default, passHostHeader is true.
  passHostHeader: Boolean?

  /// PassiveHealthCheck defines passive health checks for ExternalName services.
  passiveHealthCheck: PassiveHealthCheck?

  /// Port defines the port of a Kubernetes Service. This can be a reference to a named port.
  port: (Int | String)?

  /// ResponseForwarding defines how Traefik forwards the response from the upstream Kubernetes Service
  /// to the client.
  responseForwarding: ResponseForwarding?

  /// Scheme defines the scheme to use for the request to the upstream Kubernetes Service. It defaults to
  /// https when Kubernetes Service port is 443, http otherwise.
  scheme: String?

  /// ServersTransport defines the name of ServersTransport resource to use. It allows to configure the
  /// transport between Traefik and your servers. Can only be used on a Kubernetes Service.
  serversTransport: String?

  /// Sticky defines the sticky sessions configuration. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/load-balancing/service/#sticky-sessions
  sticky: Sticky?

  /// Strategy defines the load balancing strategy between the servers. Supported values are: wrr
  /// (Weighed round-robin), p2c (Power of two choices), hrw (Highest Random Weight), and leasttime
  /// (Least-Time). RoundRobin value is deprecated and supported for backward compatibility.
  strategy: ("wrr" | "p2c" | "hrw" | "leasttime" | "RoundRobin")?

  /// Weight defines the weight and should only be specified when Name references a TraefikService object
  /// (and to be precise, one that embeds a Weighted Round Robin).
  weight: Int(isPositive)?
}

/// Healthcheck defines health checks for ExternalName services.
class HealthCheck {
  /// FollowRedirects defines whether redirects should be followed during the health check calls.
  /// Default: true
  followRedirects: Boolean?

  /// Headers defines custom headers to be sent to the health check endpoint.
  headers: Mapping<String, String>?

  /// Hostname defines the value of hostname in the Host header of the health check request.
  hostname: String?

  /// Interval defines the frequency of the health check calls for healthy targets. Default: 30s
  interval: (Int | String)?

  /// Method defines the healthcheck method.
  method: String?

  /// Mode defines the health check mode. If defined to grpc, will use the gRPC health check protocol to
  /// probe the server. Default: http
  mode: String?

  /// Path defines the server URL path for the health check endpoint.
  path: String?

  /// Port defines the server URL port for the health check endpoint.
  port: Int?

  /// Scheme replaces the server URL scheme for the health check endpoint.
  scheme: String?

  /// Status defines the expected HTTP status code of the response to the health check request.
  status: Int?

  /// Timeout defines the maximum duration Traefik will wait for a health check request before
  /// considering the server unhealthy. Default: 5s
  timeout: (Int | String)?

  /// UnhealthyInterval defines the frequency of the health check calls for unhealthy targets. When
  /// UnhealthyInterval is not defined, it defaults to the Interval value. Default: 30s
  unhealthyInterval: (Int | String)?
}

/// PassiveHealthCheck defines passive health checks for ExternalName services.
class PassiveHealthCheck {
  /// FailureWindow defines the time window during which the failed attempts must occur for the server to
  /// be marked as unhealthy. It also defines for how long the server will be considered unhealthy.
  failureWindow: (Int | String)?

  /// MaxFailedAttempts is the number of consecutive failed attempts allowed within the failure window
  /// before marking the server as unhealthy.
  maxFailedAttempts: Int?
}

/// ResponseForwarding defines how Traefik forwards the response from the upstream Kubernetes Service to
/// the client.
class ResponseForwarding {
  /// FlushInterval defines the interval, in milliseconds, in between flushes to the client while copying
  /// the response body. A negative value means to flush immediately after each write to the client. This
  /// configuration is ignored when ReverseProxy recognizes a response as a streaming response; for such
  /// responses, writes are flushed to the client immediately. Default: 100ms
  flushInterval: String?
}

/// Sticky defines the sticky sessions configuration. More info:
/// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/load-balancing/service/#sticky-sessions
class Sticky {
  /// Cookie defines the sticky cookie configuration.
  cookie: Cookie?
}

/// Cookie defines the sticky cookie configuration.
class Cookie {
  /// Domain defines the host to which the cookie will be sent. More info:
  /// https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie#domaindomain-value
  domain: String?

  /// HTTPOnly defines whether the cookie can be accessed by client-side APIs, such as JavaScript.
  httpOnly: Boolean?

  /// MaxAge defines the number of seconds until the cookie expires. When set to a negative number, the
  /// cookie expires immediately. When set to zero, the cookie never expires.
  maxAge: Int?

  /// Name defines the Cookie name.
  name: String?

  /// Path defines the path that must exist in the requested URL for the browser to send the Cookie
  /// header. When not provided the cookie will be sent on every request to the domain. More info:
  /// https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie#pathpath-value
  path: String?

  /// SameSite defines the same site policy. More info:
  /// https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite
  sameSite: ("none" | "lax" | "strict")?

  /// Secure defines whether the cookie can only be transmitted over an encrypted connection (i.e.
  /// HTTPS).
  secure: Boolean?
}

/// ForwardAuth holds the forward auth middleware configuration. This middleware delegates the request
/// authentication to a Service. More info:
/// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/forwardauth/
class ForwardAuth {
  /// AddAuthCookiesToResponse defines the list of cookies to copy from the authentication server
  /// response to the response.
  addAuthCookiesToResponse: Listing<String>?

  /// Address defines the authentication server address.
  address: String?

  /// AuthRequestHeaders defines the list of the headers to copy from the request to the authentication
  /// server. If not set or empty then all request headers are passed.
  authRequestHeaders: Listing<String>?

  /// AuthResponseHeaders defines the list of headers to copy from the authentication server response and
  /// set on forwarded request, replacing any existing conflicting headers.
  authResponseHeaders: Listing<String>?

  /// AuthResponseHeadersRegex defines the regex to match headers to copy from the authentication server
  /// response and set on forwarded request, after stripping all headers that match the regex. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/forwardauth/#authresponseheadersregex
  authResponseHeadersRegex: String?

  /// ForwardBody defines whether to send the request body to the authentication server.
  forwardBody: Boolean?

  /// HeaderField defines a header field to store the authenticated user. More info:
  /// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/forwardauth/#headerfield
  headerField: String?

  /// MaxBodySize defines the maximum body size in bytes allowed to be forwarded to the authentication
  /// server.
  maxBodySize: Int?

  /// PreserveLocationHeader defines whether to forward the Location header to the client as is or prefix
  /// it with the domain name of the authentication server.
  preserveLocationHeader: Boolean?

  /// PreserveRequestMethod defines whether to preserve the original request method while forwarding the
  /// request to the authentication server.
  preserveRequestMethod: Boolean?

  /// TLS defines the configuration used to secure the connection to the authentication server.
  tls: Tls?

  /// TrustForwardHeader defines whether to trust (ie: forward) all X-Forwarded-* headers.
  trustForwardHeader: Boolean?
}

/// TLS defines the configuration used to secure the connection to the authentication server.
class Tls {
  /// Deprecated: TLS client authentication is a server side option (see
  /// https://github.com/golang/go/blob/740a490f71d026bb7d2d13cb8fa2d6d6e0572b70/src/crypto/tls/common.go#L634).
  caOptional: Boolean?

  /// CASecret is the name of the referenced Kubernetes Secret containing the CA to validate the server
  /// certificate. The CA certificate is extracted from key `tls.ca` or `ca.crt`.
  caSecret: String?

  /// CertSecret is the name of the referenced Kubernetes Secret containing the client certificate. The
  /// client certificate is extracted from the keys `tls.crt` and `tls.key`.
  certSecret: String?

  /// InsecureSkipVerify defines whether the server certificates should be validated.
  insecureSkipVerify: Boolean?
}

/// GrpcWeb holds the gRPC web middleware configuration. This middleware converts a gRPC web request to
/// an HTTP/2 gRPC request.
class GrpcWeb {
  /// AllowOrigins is a list of allowable origins. Can also be a wildcard origin "*".
  allowOrigins: Listing<String>?
}

/// Headers holds the headers middleware configuration. This middleware manages the requests and
/// responses headers. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/headers/#customrequestheaders
class Headers {
  /// AccessControlAllowCredentials defines whether the request can include user credentials.
  accessControlAllowCredentials: Boolean?

  /// AccessControlAllowHeaders defines the Access-Control-Request-Headers values sent in preflight
  /// response.
  accessControlAllowHeaders: Listing<String>?

  /// AccessControlAllowMethods defines the Access-Control-Request-Method values sent in preflight
  /// response.
  accessControlAllowMethods: Listing<String>?

  /// AccessControlAllowOriginList is a list of allowable origins. Can also be a wildcard origin "*".
  accessControlAllowOriginList: Listing<String>?

  /// AccessControlAllowOriginListRegex is a list of allowable origins written following the Regular
  /// Expression syntax (https://golang.org/pkg/regexp/).
  accessControlAllowOriginListRegex: Listing<String>?

  /// AccessControlExposeHeaders defines the Access-Control-Expose-Headers values sent in preflight
  /// response.
  accessControlExposeHeaders: Listing<String>?

  /// AccessControlMaxAge defines the time that a preflight request may be cached.
  accessControlMaxAge: Int?

  /// AddVaryHeader defines whether the Vary header is automatically added/updated when the
  /// AccessControlAllowOriginList is set.
  addVaryHeader: Boolean?

  /// AllowedHosts defines the fully qualified list of allowed domain names.
  allowedHosts: Listing<String>?

  /// BrowserXSSFilter defines whether to add the X-XSS-Protection header with the value 1; mode=block.
  browserXssFilter: Boolean?

  /// ContentSecurityPolicy defines the Content-Security-Policy header value.
  contentSecurityPolicy: String?

  /// ContentSecurityPolicyReportOnly defines the Content-Security-Policy-Report-Only header value.
  contentSecurityPolicyReportOnly: String?

  /// ContentTypeNosniff defines whether to add the X-Content-Type-Options header with the nosniff value.
  contentTypeNosniff: Boolean?

  /// CustomBrowserXSSValue defines the X-XSS-Protection header value. This overrides the
  /// BrowserXssFilter option.
  customBrowserXSSValue: String?

  /// CustomFrameOptionsValue defines the X-Frame-Options header value. This overrides the FrameDeny
  /// option.
  customFrameOptionsValue: String?

  /// CustomRequestHeaders defines the header names and values to apply to the request.
  customRequestHeaders: Mapping<String, String>?

  /// CustomResponseHeaders defines the header names and values to apply to the response.
  customResponseHeaders: Mapping<String, String>?

  /// Deprecated: FeaturePolicy option is deprecated, please use PermissionsPolicy instead.
  featurePolicy: String?

  /// ForceSTSHeader defines whether to add the STS header even when the connection is HTTP.
  forceSTSHeader: Boolean?

  /// FrameDeny defines whether to add the X-Frame-Options header with the DENY value.
  frameDeny: Boolean?

  /// HostsProxyHeaders defines the header keys that may hold a proxied hostname value for the request.
  hostsProxyHeaders: Listing<String>?

  /// IsDevelopment defines whether to mitigate the unwanted effects of the AllowedHosts, SSL, and STS
  /// options when developing. Usually testing takes place using HTTP, not HTTPS, and on localhost, not
  /// your production domain. If you would like your development environment to mimic production with
  /// complete Host blocking, SSL redirects, and STS headers, leave this as false.
  isDevelopment: Boolean?

  /// PermissionsPolicy defines the Permissions-Policy header value. This allows sites to control browser
  /// features.
  permissionsPolicy: String?

  /// PublicKey is the public key that implements HPKP to prevent MITM attacks with forged certificates.
  publicKey: String?

  /// ReferrerPolicy defines the Referrer-Policy header value. This allows sites to control whether
  /// browsers forward the Referer header to other sites.
  referrerPolicy: String?

  /// Deprecated: SSLForceHost option is deprecated, please use RedirectRegex instead.
  sslForceHost: Boolean?

  /// Deprecated: SSLHost option is deprecated, please use RedirectRegex instead.
  sslHost: String?

  /// SSLProxyHeaders defines the header keys with associated values that would indicate a valid HTTPS
  /// request. It can be useful when using other proxies (example: "X-Forwarded-Proto": "https").
  sslProxyHeaders: Mapping<String, String>?

  /// Deprecated: SSLRedirect option is deprecated, please use EntryPoint redirection or RedirectScheme
  /// instead.
  sslRedirect: Boolean?

  /// Deprecated: SSLTemporaryRedirect option is deprecated, please use EntryPoint redirection or
  /// RedirectScheme instead.
  sslTemporaryRedirect: Boolean?

  /// STSIncludeSubdomains defines whether the includeSubDomains directive is appended to the
  /// Strict-Transport-Security header.
  stsIncludeSubdomains: Boolean?

  /// STSPreload defines whether the preload flag is appended to the Strict-Transport-Security header.
  stsPreload: Boolean?

  /// STSSeconds defines the max-age of the Strict-Transport-Security header. If set to 0, the header is
  /// not set.
  stsSeconds: Int(isPositive)?
}

/// InFlightReq holds the in-flight request middleware configuration. This middleware limits the number
/// of requests being processed and served concurrently. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/inflightreq/
class InFlightReq {
  /// Amount defines the maximum amount of allowed simultaneous in-flight request. The middleware
  /// responds with HTTP 429 Too Many Requests if there are already amount requests in progress (based on
  /// the same sourceCriterion strategy).
  amount: Int(isPositive)?

  /// SourceCriterion defines what criterion is used to group requests as originating from a common
  /// source. If several strategies are defined at the same time, an error will be raised. If none are
  /// set, the default is to use the requestHost. More info:
  /// https://doc.traefik.io/traefik/v3.6/middlewares/http/inflightreq/#sourcecriterion
  sourceCriterion: SourceCriterion?
}

/// SourceCriterion defines what criterion is used to group requests as originating from a common source.
/// If several strategies are defined at the same time, an error will be raised. If none are set, the
/// default is to use the requestHost. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/inflightreq/#sourcecriterion
class SourceCriterion {
  /// IPStrategy holds the IP strategy configuration used by Traefik to determine the client IP. More
  /// info: https://doc.traefik.io/traefik/v3.6/middlewares/http/ipallowlist/#ipstrategy
  ipStrategy: SourceCriterionIpStrategy?

  /// RequestHeaderName defines the name of the header used to group incoming requests.
  requestHeaderName: String?

  /// RequestHost defines whether to consider the request Host as the source.
  requestHost: Boolean?
}

/// IPStrategy holds the IP strategy configuration used by Traefik to determine the client IP. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/ipallowlist/#ipstrategy
class SourceCriterionIpStrategy {
  /// Depth tells Traefik to use the X-Forwarded-For header and take the IP located at the depth position
  /// (starting from the right).
  depth: Int(isPositive)?

  /// ExcludedIPs configures Traefik to scan the X-Forwarded-For header and select the first IP not in
  /// the list.
  excludedIPs: Listing<String>?

  /// IPv6Subnet configures Traefik to consider all IPv6 addresses from the defined subnet as originating
  /// from the same IP. Applies to RemoteAddrStrategy and DepthStrategy.
  ipv6Subnet: Int?
}

/// IPAllowList holds the IP allowlist middleware configuration. This middleware limits allowed requests
/// based on the client IP. More info: https://doc.traefik.io/traefik/v3.6/middlewares/http/ipallowlist/
class IpAllowList {
  /// IPStrategy holds the IP strategy configuration used by Traefik to determine the client IP. More
  /// info: https://doc.traefik.io/traefik/v3.6/middlewares/http/ipallowlist/#ipstrategy
  ipStrategy: SourceCriterionIpStrategy?

  /// RejectStatusCode defines the HTTP status code used for refused requests. If not set, the default is
  /// 403 (Forbidden).
  rejectStatusCode: Int?

  /// SourceRange defines the set of allowed IPs (or ranges of allowed IPs by using CIDR notation).
  sourceRange: Listing<String>?
}

/// Deprecated: please use IPAllowList instead.
class IpWhiteList {
  /// IPStrategy holds the IP strategy configuration used by Traefik to determine the client IP. More
  /// info: https://doc.traefik.io/traefik/v3.6/middlewares/http/ipallowlist/#ipstrategy
  ipStrategy: SourceCriterionIpStrategy?

  /// SourceRange defines the set of allowed IPs (or ranges of allowed IPs by using CIDR notation).
  /// Required.
  sourceRange: Listing<String>?
}

/// PassTLSClientCert holds the pass TLS client cert middleware configuration. This middleware adds the
/// selected data from the passed client TLS certificate to a header. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/passtlsclientcert/
class PassTLSClientCert {
  /// Info selects the specific client certificate details you want to add to the
  /// X-Forwarded-Tls-Client-Cert-Info header.
  info: Info?

  /// PEM sets the X-Forwarded-Tls-Client-Cert header with the certificate.
  pem: Boolean?
}

/// Info selects the specific client certificate details you want to add to the
/// X-Forwarded-Tls-Client-Cert-Info header.
class Info {
  /// Issuer defines the client certificate issuer details to add to the X-Forwarded-Tls-Client-Cert-Info
  /// header.
  issuer: Issuer?

  /// NotAfter defines whether to add the Not After information from the Validity part.
  notAfter: Boolean?

  /// NotBefore defines whether to add the Not Before information from the Validity part.
  notBefore: Boolean?

  /// Sans defines whether to add the Subject Alternative Name information from the Subject Alternative
  /// Name part.
  sans: Boolean?

  /// SerialNumber defines whether to add the client serialNumber information.
  serialNumber: Boolean?

  /// Subject defines the client certificate subject details to add to the
  /// X-Forwarded-Tls-Client-Cert-Info header.
  subject: Subject?
}

/// Issuer defines the client certificate issuer details to add to the X-Forwarded-Tls-Client-Cert-Info
/// header.
class Issuer {
  /// CommonName defines whether to add the organizationalUnit information into the issuer.
  commonName: Boolean?

  /// Country defines whether to add the country information into the issuer.
  country: Boolean?

  /// DomainComponent defines whether to add the domainComponent information into the issuer.
  domainComponent: Boolean?

  /// Locality defines whether to add the locality information into the issuer.
  locality: Boolean?

  /// Organization defines whether to add the organization information into the issuer.
  organization: Boolean?

  /// Province defines whether to add the province information into the issuer.
  province: Boolean?

  /// SerialNumber defines whether to add the serialNumber information into the issuer.
  serialNumber: Boolean?
}

/// Subject defines the client certificate subject details to add to the X-Forwarded-Tls-Client-Cert-Info
/// header.
class Subject {
  /// CommonName defines whether to add the organizationalUnit information into the subject.
  commonName: Boolean?

  /// Country defines whether to add the country information into the subject.
  country: Boolean?

  /// DomainComponent defines whether to add the domainComponent information into the subject.
  domainComponent: Boolean?

  /// Locality defines whether to add the locality information into the subject.
  locality: Boolean?

  /// Organization defines whether to add the organization information into the subject.
  organization: Boolean?

  /// OrganizationalUnit defines whether to add the organizationalUnit information into the subject.
  organizationalUnit: Boolean?

  /// Province defines whether to add the province information into the subject.
  province: Boolean?

  /// SerialNumber defines whether to add the serialNumber information into the subject.
  serialNumber: Boolean?
}

/// RateLimit holds the rate limit configuration. This middleware ensures that services will receive a
/// fair amount of requests, and allows one to define what fair is. More info:
/// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/ratelimit/
class RateLimit {
  /// Average is the maximum rate, by default in requests/s, allowed for the given source. It defaults to
  /// 0, which means no rate limiting. The rate is actually defined by dividing Average by Period. So for
  /// a rate below 1req/s, one needs to define a Period larger than a second.
  average: Int(isPositive)?

  /// Burst is the maximum number of requests allowed to arrive in the same arbitrarily small period of
  /// time. It defaults to 1.
  burst: Int(isPositive)?

  /// Period, in combination with Average, defines the actual maximum rate, such as: r = Average /
  /// Period. It defaults to a second.
  period: (Int | String)?

  /// Redis hold the configs of Redis as bucket in rate limiter.
  redis: Redis?

  /// SourceCriterion defines what criterion is used to group requests as originating from a common
  /// source. If several strategies are defined at the same time, an error will be raised. If none are
  /// set, the default is to use the request's remote address field (as an ipStrategy).
  sourceCriterion: RateLimitSourceCriterion?
}

/// Redis hold the configs of Redis as bucket in rate limiter.
class Redis {
  /// DB defines the Redis database that will be selected after connecting to the server.
  db: Int?

  /// DialTimeout sets the timeout for establishing new connections. Default value is 5 seconds.
  dialTimeout: (Int | String)?

  /// Endpoints contains either a single address or a seed list of host:port addresses. Default value is
  /// ["localhost:6379"].
  endpoints: Listing<String>?

  /// MaxActiveConns defines the maximum number of connections allocated by the pool at a given time.
  /// Default value is 0, meaning there is no limit.
  maxActiveConns: Int?

  /// MinIdleConns defines the minimum number of idle connections. Default value is 0, and idle
  /// connections are not closed by default.
  minIdleConns: Int?

  /// PoolSize defines the initial number of socket connections. If the pool runs out of available
  /// connections, additional ones will be created beyond PoolSize. This can be limited using
  /// MaxActiveConns. // Default value is 0, meaning 10 connections per every available CPU as reported
  /// by runtime.GOMAXPROCS.
  poolSize: Int?

  /// ReadTimeout defines the timeout for socket read operations. Default value is 3 seconds.
  readTimeout: (Int | String)?

  /// Secret defines the name of the referenced Kubernetes Secret containing Redis credentials.
  secret: String?

  /// TLS defines TLS-specific configurations, including the CA, certificate, and key, which can be
  /// provided as a file path or file content.
  tls: RedisTls?

  /// WriteTimeout defines the timeout for socket write operations. Default value is 3 seconds.
  writeTimeout: (Int | String)?
}

/// TLS defines TLS-specific configurations, including the CA, certificate, and key, which can be
/// provided as a file path or file content.
class RedisTls {
  /// CASecret is the name of the referenced Kubernetes Secret containing the CA to validate the server
  /// certificate. The CA certificate is extracted from key `tls.ca` or `ca.crt`.
  caSecret: String?

  /// CertSecret is the name of the referenced Kubernetes Secret containing the client certificate. The
  /// client certificate is extracted from the keys `tls.crt` and `tls.key`.
  certSecret: String?

  /// InsecureSkipVerify defines whether the server certificates should be validated.
  insecureSkipVerify: Boolean?
}

/// SourceCriterion defines what criterion is used to group requests as originating from a common source.
/// If several strategies are defined at the same time, an error will be raised. If none are set, the
/// default is to use the request's remote address field (as an ipStrategy).
class RateLimitSourceCriterion {
  /// IPStrategy holds the IP strategy configuration used by Traefik to determine the client IP. More
  /// info: https://doc.traefik.io/traefik/v3.6/middlewares/http/ipallowlist/#ipstrategy
  ipStrategy: SourceCriterionIpStrategy?

  /// RequestHeaderName defines the name of the header used to group incoming requests.
  requestHeaderName: String?

  /// RequestHost defines whether to consider the request Host as the source.
  requestHost: Boolean?
}

/// RedirectRegex holds the redirect regex middleware configuration. This middleware redirects a request
/// using regex matching and replacement. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/redirectregex/#regex
class RedirectRegex {
  /// Permanent defines whether the redirection is permanent (308).
  permanent: Boolean?

  /// Regex defines the regex used to match and capture elements from the request URL.
  regex: String?

  /// Replacement defines how to modify the URL to have the new target URL.
  replacement: String?
}

/// RedirectScheme holds the redirect scheme middleware configuration. This middleware redirects requests
/// from a scheme/port to another. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/redirectscheme/
class RedirectScheme {
  /// Permanent defines whether the redirection is permanent (308).
  permanent: Boolean?

  /// Port defines the port of the new URL.
  port: String?

  /// Scheme defines the scheme of the new URL.
  scheme: String?
}

/// ReplacePath holds the replace path middleware configuration. This middleware replaces the path of the
/// request URL and store the original path in an X-Replaced-Path header. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/replacepath/
class ReplacePath {
  /// Path defines the path to use as replacement in the request URL.
  path: String?
}

/// ReplacePathRegex holds the replace path regex middleware configuration. This middleware replaces the
/// path of a URL using regex matching and replacement. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/replacepathregex/
class ReplacePathRegex {
  /// Regex defines the regular expression used to match and capture the path from the request URL.
  regex: String?

  /// Replacement defines the replacement path format, which can include captured variables.
  replacement: String?
}

/// Retry holds the retry middleware configuration. This middleware reissues requests a given number of
/// times to a backend server if that server does not reply. As soon as the server answers, the
/// middleware stops retrying, regardless of the response status. More info:
/// https://doc.traefik.io/traefik/v3.6/reference/routing-configuration/http/middlewares/retry/
class Retry {
  /// Attempts defines how many times the request should be retried.
  attempts: Int(isPositive)?

  /// InitialInterval defines the first wait time in the exponential backoff series. The maximum interval
  /// is calculated as twice the initialInterval. If unspecified, requests will be retried immediately.
  /// The value of initialInterval should be provided in seconds or as a valid duration format, see
  /// https://pkg.go.dev/time#ParseDuration.
  initialInterval: (Int | String)?
}

/// StripPrefix holds the strip prefix middleware configuration. This middleware removes the specified
/// prefixes from the URL path. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/stripprefix/
class StripPrefix {
  /// Deprecated: ForceSlash option is deprecated, please remove any usage of this option. ForceSlash
  /// ensures that the resulting stripped path is not the empty string, by replacing it with / when
  /// necessary. Default: true.
  forceSlash: Boolean?

  /// Prefixes defines the prefixes to strip from the request URL.
  prefixes: Listing<String>?
}

/// StripPrefixRegex holds the strip prefix regex middleware configuration. This middleware removes the
/// matching prefixes from the URL path. More info:
/// https://doc.traefik.io/traefik/v3.6/middlewares/http/stripprefixregex/
class StripPrefixRegex {
  /// Regex defines the regular expression to match the path prefix from the request URL.
  regex: Listing<String>?
}
